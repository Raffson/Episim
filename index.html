<!DOCTYPE html>
<!-- saved from url=(0098)file:///C:/Users/Robbe/Eindwerk_site/RobbeHeirman.github.io/Album%20example%20for%20Bootstrap.html -->
<html lang="en">
	<head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="">
    <meta name="author" content="">

    <title>EpiSim's Group Page </title>

    <!-- For collapsible button -->
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <!-- Github icon -->
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <!-- Bootstrap core CSS -->
    <link href="./css/bootstrap.min.css" rel="stylesheet">
    <!-- Custom styles for this template -->
    <link href="./css/custom.css" rel="stylesheet">

  </head>

  <body>
    <!--div class="navbar navbar-inverse bg-inverse">
      <div class="container d-flex justify-content-between">
      </div>
    </div-->

    <section class="jumbotron text-center">
      <div class="container">
        <div class="jumbotron-heading">EpiSim</div>
        <p class="lead text-muted custom-pgraph" style="font-weight: 300; font-size: 2vw;">
            Webpage with all the information for EpiSim.<br>
            <a href="https://github.com/Raffson/Episim.git" target="_blank">Git repository</a> <br>
            <a href="https://travis-ci.org/Raffson/Episim" target="_blank">Travis CI</a> <br>
            <img class="img-fluid picBuildMaster" src="https://travis-ci.org/Raffson/Episim.svg?branch=master">
        </p>
      </div>
    </section>

    <div class="section-lg text-muted">
      <div class="container">
          <div class="container-fluid">
            <div class="custom-header">Team Members</div>
            <div class="row text-center custom-pgraph" style="font-weight: 300;">
                <div class= "col-3">
                    <img class = "img-fluid pic25brad" src="images/Robbe.jpg">
                    <p>Robbe Heirman<br>
                    <a href="https://github.com/RobbeHeirman" target="_blank"><i class="fa fa-github"></i> RobbeHeirman</a><br>
                    <img class="img-fluid picBuild" src="https://travis-ci.org/Raffson/Episim.svg?branch=RobbeHeirman">
                    </p>
                </div>

                <div class= "col-3">
                    <img class = "img-fluid pic25brad" src="images/Beau.jpg">
                    <p>Beau De Clerq<br>
                    <a href="https://github.com/bdclercq" target="_blank"><i class="fa fa-github"></i> bdclercq</a><br>
                    <img class="img-fluid picBuild" src="https://travis-ci.org/Raffson/Episim.svg?branch=beau">
                    </p>
                </div>

                <div class= "col-3">
                    <img class = "img-fluid pic25brad" src="images/Nishchal.jpg">
                    <p>Nishchal Shrestha<br>
                    <a href="https://github.com/nishrestha" target="_blank"><i class="fa fa-github"></i> nishrestha</a><br>
                    <img class="img-fluid picBuild" src="https://travis-ci.org/Raffson/Episim.svg?branch=nishchal">
                    </p>
                </div>
                <div class= "col-3">
                    <img class = "img-fluid pic25brad" src="images/Raphael.jpg">
                    <p>Raphael Assa<br>
                    <a href="https://github.com/raffson" target="_blank"><i class="fa fa-github"></i> raffson</a><br>
                    <img class="img-fluid picBuild" src="https://travis-ci.org/Raffson/Episim.svg?branch=raffson">
                    </p>
                </div>
            </div>
        </div>

      </div>
    </div>

    <div class="section-w">
        <div class="container">
            <div class="custom-header">Assignment 1</div>
            <div class="text-center">
	            <button type="button" class="btn btn-info" data-toggle="collapse" data-target="#demo">Solution</button>
            </div>
		    <br/> <br/>
	        <div id="demo" class="collapse">
		        <div class="custom-container text-muted">
		            <div class="custom-title">
		                What was asked for this assignment?
		            </div>
		            <p class="custom-pgraph">
		                For our first assignment we were asked to investigate the influance of r<sub>0</sub> on the attack rate.
		                The first parameter, r<sub>0</sub>, is a basic reproduction number, i.e. a measure for infectiousness
		                of a disease. In other words, how many people will 1 person infect in a completely susceptible population.
		                The second parameter, attack rate, represents the fraction of the population that has been infected
		                at the end of the simulation.
		            </p>

		            <div class="custom-title">
		                What was delivered by EpiSim?
		            </div>
		            <p class="custom-pgraph">
		                Due to the fact that newer versions of the stride simulator were pushed which would change the results
		                dramatically, we decided to take a closer look at the different versions. Our findings are summarized in
		                <a href="assignments/1/EpiSim-Report1.pdf" target="_blank">this pdf report</a>,
		                however it is in dutch. We may be planning on including
		                an english version later, though this is still uncertain. Aside from that we have also bundeled all our
		                data, graphs &amp; reports into a
                        <a href="assignments/1/EpiSim-Assignment1.zip" target="_blank">zip file</a>.
		            </p>

		            <div class="custom-title">
		                What did we conclude?
		            </div>
		            <p class="custom-pgraph">
		                After comparing the results &amp; trying to interpret them, one thing can be said for certain.
		                No matter what results we take, the attack rate increases if we increase r<sub>0</sub>.
		                In the original results we would see that the number of infected people would be limited
		                to some extent, i.e. about 20% of the population would be the maximum fraction of infected people
		                assuming the worst case scenario. For the latest version this becomes practically the entire
		                population for r<sub>0</sub> values bigger than or equal to 4. At this point we decided to proceed
		                and inspect the different versions where we noticed a few strange things. Some versions did not compile
		                at first, but this was due to a recurring problem where 'sstream' was not included in RNManager.h which
		                can be found in the folder "main/cpp/util". Another problem was a crashing simulator for which fixes where
		                introduced during the second lecture (Tue. 13 Feb. 2018 @ 1300 UTC) but somehow those fixes managed to slip
		                back out of the master branch during subsequent merges. Next, we noticed that some builds passed tests
		                while other builds didn't. We figured out that this was due to different versions of BatchRuns.cpp which
		                can be found in "test/cpp/gtester", where we assume that originally the absolute error was allowed to be
		                10% off. This changed to 50% by changing the factor 0.1 to 0.5, while in some other builds this factor
		                was simply left out. As a results, the ASSERT_NEAR test would pass the tests if the factor was left out.
		                As to which factor it should actually be, we are still trying to figure out that one ourselves.
		                At last, we tried running and comparing the results for a number of different builds and tracked down
		                a major difference in results to elisekaa's commit with hash "11510dc...". We believe that somewhere
		                during the refractor of the "Vaccinator" class, something went wrong and as a result the immunization
		                &amp; vaccination profiles are not working properly. This also seems logical when one compares the
		                results since it seems likely that an enitre population would get infected if the disease were highly
		                contagious and nobody were immune or vaccinated. Looking at the original results, they also seem likely
		                considering some people may be immune while most others would have been vaccinated.
		            </p>

		            <div class="custom-title">
		                Updates
		            </div>
		            <p class="custom-pgraph">
                        <u><b>Sun. 18 Feb. 2018 @ 2300 UTC:</b></u>

		                We tried replacing the vaccinator class with its old version but have not yet succeeded.
		                This proves to be more difficult than expected since the old vaccinator class depends on
		                other old files which have been deleted, thus requiring a bit more effort to restore the
		                old version. We will however continue to search untill we find a way to combine the
		                latest version with the older version of the vaccinator class. Currently we are stuck with
		                the following compiler error:
		            </p>
		            <div class="custom-frame">
	/Users/raphael/Downloads/stride-56d3061.../main/cpp/immunity/Vaccinator.cpp:128:34: error:
		  cannot initialize a variable of type 'vector&lt;stride::Cluster&gt; *' with an rvalue of
		  type 'std::vector&lt;ContactPool&gt; *'
		            vector&lt;Cluster&gt;* immunity_clusters = &m_sim->m_households; ///&lt; Th...
		                             ^                   ~~~~~~~~~~~~~~~~~~~~
	1 error generated.
	make[2]: *** [main/cpp/CMakeFiles/libstride.dir/immunity/Vaccinator.cpp.o] Error 1
	make[1]: *** [main/cpp/CMakeFiles/libstride.dir/all] Error 2
	make: *** [all] Error 2
	                </div>
                    <p class="custom-pgraph" style="margin-top:1rem;">
                    <u><b>Tue. 20 Feb. 2018 @ 0300 UTC:</b></u>

		                After trying several things we managed to get a working version by both taking the newest
                        version and the one with hash "7faa958...". The newest version required a lot of changes
                        which didn't seem ideal. So we decided to take version "7faa958..." and restore the last
                        working version of the vaccinator class which we took from "bf89cb0". This proved to be
                        rather simple since a quick replace of the Vaccinator &amp; SimulatorBuilder classes
                        already gave us a working version, minding the forgotten include for 'sstream' of course.
                        We then proceeded to manually merge with "fb4c84b..." which introduced a change in terminology.
                        At this point we decided to start off by renaming the Cluster class to ContactPool, however
                        this introduced a serious number of issues since many of the other classes reference this type.
                        Another issue was the fact that the Cluster class changed in order to be compatible with the
                        new version of the vaccinator class, so we had to take the old versions and rename everything manually.
                        From there we simply replaced all files that were changed to fix the referencing issue,
                        except those that were used to restore the old vaccinator class, i.e. Vaccinator &amp; SimulatorBuilder.
                        These were manually edited where needed. At last, this introduced problems with the Infector class,
                        so we restored back to the old version, rename where needed and add some code since a new logging mode
                        was made. If this code would not be added the linker would fail, meaning code is being referenced somewhere
                        but the actual code is in fact missing. Thus we still conclude that the (big) difference in results
                        is the outcome of the vaccinator's refractor. A small text file with some scrap notes can be found
                        <a href="assignments/1/WayOfWork.txt" target="_blank">here</a>.
                    </p>
                    <p class="custom-pgraph" style="margin-top:1rem;">
                    <u><b>Tue. 20 Feb. 2018 @ 2145 UTC:</b></u>
                        Since a new working version of stride was pushed to the
                        <a href="https://github.com/broeckho/stride" target="_blank">original repository</a>,
                        we will consider this
                        the end of Assignment 1. So at this point we have a copy of version with hash "e0897fe..." and
                        commit name "Cosmetic.", with a small adjustment. It turned out that there's a small difference in
                        "disease_measles.xml" when comparing the 2 versions, i.e. the one found in
                        "root-of-project/main/resources/data" &amp; the one located in
                        "root-of-project/main/python/examples/data". This explains why the simulator would produce different
                        results when running through the python environment. To fix this, simply replace the one found in the
                        python folder with the one from the resources folder. In case the project was already installed,
                        don't forget to change the "disease_measles.xml" within the "install-dir/bin/data" folder as well.
                    </p>
	            </div>
            </div>
        </div>
    </div>


        <div class="section-lg text-muted">
        <div class="container">
            <div class="custom-header">Assignment 2</div>
            <div class="text-center">
	            <button type="button" class="btn btn-info" data-toggle="collapse" data-target="#assignment2">Solution</button>
            </div>
		    <br/> <br/>
	        <div id="assignment2" class="collapse">
		        <div class="custom-container text-muted">
		            <div class="custom-title">
		                What was asked for this assignment?
		            </div>
		            <p class="custom-pgraph">
                        The goal of this assignment was to establish reasonable bounds for the number of infected people.
                        Therefore it is needed to run a large number of simulations with different seeds.
                        Once bounds are established, we are to use the concluded percentage
                        to adjust the regression tests within the project.
		            </p>

		            <div class="custom-title">
		                What was delivered by EpiSim?
		            </div>
		            <p class="custom-pgraph">
                        EpiSim ran 5000 simulations with configuration file "run_default.xml" with logging level set to 'None"
                         (for which we summarized our findings into
                        <a href="assignments/WIP.txt" target="_blank">this report</a>)
                        after making some adjustments to the simulator and
                        writing a number of scripts. Specifically we added the ability
                        to suppress the .csv files produced by the simulator in order to reduce the amount of data written
                        during these 5000 simulations. We also introduced a small fix where SimulatorBuilder.cpp would
                        still write to the log when the logging level is set to 'None'. Aside from that 2 scripts were written
                        in python. The first script is seedTester.py, which (as the name suggests) will run simulations for
                        a number of seeds read from a file. The second script is seedGenerator.py, which
                        generates a number of unique seeds and writes them to a file. To find out how to use these scripts,
                        refer to the comments within the files or try using the '--help' option.
                        At last, we tried changing the 'margin' in BatchRuns.cpp to 0.05 (=5%) instead of the original 0.1 (=10%).
                        However this resulted into a failing test for 'test_tag: influenza_a' where the allowed difference
                        simply became too small.
                        This could be explained by the fact that all of our results are based on
                        "disease_measles.xml" since that's the disease used in the default configuration. This implies we
                        should also look at the results for other diseases. Since we realized this too late we had no more
                        time left to investigate this properly.
                        Again all our data, reports &amp; graphs are bundeled into the following
                        <a href="assignments/WIP.txt" target="_blank">zip file</a>.
                    </p>

		            <div class="custom-title">
		                What did we conclude?
		            </div>
		            <p class="custom-pgraph">
                        W.I.P.
		            </p>

	            </div>
            </div>
        </div>
    </div>

  </body>
</html>
